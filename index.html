<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Amicable Numbers</title>

    <style>
        body, #submit {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 20px;
            text-align: center;
        }

        form {
            padding-top: 20px;
        }

        #testDiv {
            text-align: center;
        }
    </style>

    <script language="javascript">
	    window.onload = function()
        {
            submit = document.getElementById("submit");
            submit.onclick = function()
            {
                displayNums();
            }
        }

        function displayNums()
        {
            var n1 = document.getElementById("num1").value;
            var n2 = document.getElementById("num2").value;
            
            document.getElementById("testDiv").innerHTML = "You entered " + n1 + " and " + n2 + ".";

            var arr1 = getFactors(n1);
            if (addArray(arr1) == n2) {
                var arr2 = getFactors(n2);
                if(addArray(arr1) == n2) {
                    document.getElementById("result").innerHTML = "Those numbers ARE amicable!";
                } else {
                    document.getElementById("result").innerHTML = "Those numbers are NOT amicable.";
                }
            } else {
                document.getElementById("result").innerHTML = "Those numbers are NOT amicable.";
            }
        }

        function isFactor(num, fac)
        {
            if (num % fac == 0) {
                return true;
            } else {
                return false;
            }
        }

        function showArray(arr)
        {
            var i;
            var elements = "" + arr[0];
            for (i = 1; i < arr.length; i++) {
                elements = elements + ", " + arr[i];
            }
            document.getElementById("testDiv").innerHTML = elements;
        }

        function addArray(arr)
        {
            var i;
            var sum = 0;
            for (i = 0; i < arr.length; i++) {
                sum += arr[i];
            }
            return sum;
        }

        function getFactors(num)
        {
            var i;
            var factors = [];
            for (i = 1; i < num; i++) {
                if (num % i == 0) {
                    factors.push(i);
                }
            }
            return factors;
        }
    </script>
</head>

<body>
    <form>
        <label for="num1">First number: </label>
        <input type="text" id="num1" name="num1"><br><br>
        <label for="num2">Second number: </label>
        <input type="text" id="num2" name="num2"><br><br>
        <input type="button" id="submit" value="Submit"><br><br>
    </form>
    <div id="testDiv"></div><br>
    <div id="result"></div>

    <script language="javascript">
        /*** TEST CODE ***/          
        
        /* isFactor()
            var test1 = isFactor(16,4);
            document.writeln(test1); //should be true
            var test2 = isFactor(16,5);
            document.writeln(test2); //should be false
        */

        /* showArray()
            var showArrayTest = [1,3,5,7];
            showArray(showArrayTest);
        */

        /* addArray()
            var addArrayTest = [3,7,15];
            var sum = addArray(addArrayTest);
            document.writeln(sum); //should be 25
        */
         
        /* getFactors()
            document.writeln(getFactors(45)); //should be 1,3,5,9,15
        */
    </script>
</body>

</html>